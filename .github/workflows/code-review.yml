name: Deployment workflow
on:
 push:
  branches:
   - main

jobs:
 build:
  runs-on: ubuntu-latest
  strategy:
   matrix:
    node-version: [18.16.0]

  steps:
   - uses: actions/checkout@v3
   - name: Use Node.js ${{ matrix.node-version }}
     uses: actions/setup-node@v3
     with:
      node-version: ${{ matrix.node-version }}
   - name: Install packages
     run: yarn install
   - name: Unit tests coverage
     run: yarn test:coverage
   - name: Build
     run: yarn build